{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Voice Enabled Chatbot using Node-RED Warning This material is part of the World Wide IBM Call for Code 2020 Solution Starter Kit. Some links may not be working, however, the original contents are kept for reference only. Please refer to the hyperlink for more information on the COVID Crisis Communications Starter Kit . Prerequisite Register for an IBM Cloud account, if you do not have an account yet. Otherwise, please proceed to IBM Cloud login Please Refer to each step prerequisite Steps Create ChatBot using Watson Assistant Adding Webhooks to Watson Assistant using IBM Functions Create Voice Enabled ChatBot using Node-RED","title":"Voice Enabled Chatbot using Node-RED"},{"location":"#voice-enabled-chatbot-using-node-red","text":"Warning This material is part of the World Wide IBM Call for Code 2020 Solution Starter Kit. Some links may not be working, however, the original contents are kept for reference only. Please refer to the hyperlink for more information on the COVID Crisis Communications Starter Kit .","title":"Voice Enabled Chatbot using Node-RED"},{"location":"#prerequisite","text":"Register for an IBM Cloud account, if you do not have an account yet. Otherwise, please proceed to IBM Cloud login Please Refer to each step prerequisite","title":"Prerequisite"},{"location":"#steps","text":"Create ChatBot using Watson Assistant Adding Webhooks to Watson Assistant using IBM Functions Create Voice Enabled ChatBot using Node-RED","title":"Steps"},{"location":"Solution-Starter-Kit-Communication-2020/","text":"COVID Crisis Communications Starter Kit Warning This material is part of the World Wide IBM Call for Code 2020 Solution Starter Kit. Some links may not be working, however, the original contents are kept for reference only. This solution starter was created by technologists from IBM. Contents Overview Video The idea How it works Diagrams Documents Datasets Technology Getting started Resources 10. License Overview What's the problem? In times of crisis, communications systems are often overwhelmed with people trying to find basic information about testing, symptoms, community response, and other resources. When communication lines get clogged, people who need real help can't get through. Chatbots help respond to tens, even hundreds, of thousands of messages a day. How can technology help ? Whether via text, phone, websites, or communication apps, conversing with chatbots and other AI-enabled resources can play a critical role in helping communities quickly understand crucial information and free up customer service resources to focus on higher-level issues. IBM Watson Assistant service helps you build, train, and deploy conversational interactions into any application, device, or channel. Creating a chatbot using Watson Assistant can help address the issues that our users face while trying to gather accurate, relevant information. Whether you're trying to learn the latest news about Covid-19 or learn where there's testing in your area, a chatbot can play a major role in helping communities quickly understand crucial information and free up customer service resources to focus on higher-level issues. Video The idea COVID-19 has citizens looking for answers about symptoms and testing sites as well as current status of schools, transportation, and other public services. Using Watson Assistant, this Call for Code Starter Kit has designed a virtual assistant pre-loaded to understand and respond to common questions about COVID-19, scan COVID-19 news articles using Watson Discovery and respond to COVID statistics inquires with data from trusted sources. With this Watson Assistant powered Crisis Communications Starter Kit you can integrate a chatbot into your Call for Code solution in an IBM Cloud hosted web server, using a Slack integration or via a Node-RED Dashboard. It can: - Respond by sharing consistent, accurate COVID-19 information - Help citizens quickly and easily access the latest information through their channel of choice \u2013 voice, text or collaborative tool - Free valuable resources by automating answers to common COVID-19 questions - Dynamically update information with the latest developments and recommendations The challenge for you is to build out from this framework to create a more complete solution. How it works Diagrams Website integration with COVID-19 crisis communication chatbot User visits a website with the COVID-19 chatbot and asks a question. Node.js web server calls the Watson Assistant service hosted in IBM Cloud. Watson Assistant uses natural language understanding and machine learning to extract entities and intents of the user question. Source COVID-19 FAQ information from trusted CDC data. Watson Assistant invokes an OpenWhisk open source powered IBM Cloud Function. IBM Cloud Function calls the Watson Discovery service running in IBM Cloud. Watson Discovery scans news articles and responds with relevant articles. Watson Assistant invokes an OpenWhisk open source powered IBM Cloud Function. IBM Cloud Function calls the COVID-19 API to get statistics. Watson Assistant replies to the user inquiry. Node.js web server displays the chat answer to the user. Slack integration with COVID-19 crisis communication chatbot User invokes a COVID-19 Slack integration chatbot app and asks a question. Slack app calls the Watson Assistant service hosted in IBM Cloud. Watson Assistant uses natural language understanding and machine learning to extract entities and intents of the user question. Source COVID-19 FAQ information from trusted CDC data Watson Assistant invokes an OpenWhisk open source powered IBM Cloud Function. IBM Cloud Function calls the Watson Discovery service running in IBM Cloud. Watson Discovery scans news articles and responds with relevant articles. Watson Assistant invokes an OpenWhisk open source powered IBM Cloud Function. IBM Cloud Function calls the COVID-19 API to get statistics. Watson Assistant replies to the Slack application. Slack app displays the chat answer to the user. Voice enabled COVID-19 crisis communication chatbot using Node-RED User visits a voice-enabled Node-RED website with the COVID-19 chatbot and asks a question. Node-RED records the speech wav file and calls the Watson Speech to Text service hosted in IBM Cloud. Watson Speech to Text uses machine learning to decode the user's speech. Watson Speech to Text replies with a transcript of the COVID-19 question and Node-RED calls Watson Assistant service hosted in IBM Cloud. Watson Assistant uses natural language understanding and machine learning to extract entities and intents of the user's question. Source COVID-19 FAQ information from trusted CDC data Watson Assistant invokes an OpenWhisk open source powered IBM Cloud Function. IBM Cloud Function calls the Watson Discovery service running in IBM Cloud. Watson Discovery scans news articles and responds with relevant articles. Watson Assistant invokes an OpenWhisk open source powered IBM Cloud Function. IBM Cloud Function calls the COVID-19 API to get statistics. Watson Assistant replies to the user inquiry and Node-RED sends the text transcript to Watson Text to Speech. Watson Text to Speech encodes the message in the user's language. Node-RED plays the chat answer wav file to the user. User listens to the chat answer. Documents Trusted sources for COVID-19 information CDC COVID-19 FAQ Tutorials and documentation: How-to guides for chatbots Learning path: Getting started with Watson Assistant Chatbot with Watson Discovery Chat Bot Slack Deployment Node-RED Slack Integration Train a speech-to-text model Making Programmatic Calls from Watson Assistant IBM Cloud Voice Agent with Twilio Watson Assistant Datasets covid19api Technology IBM technology IBM Watson Assistant Watson Discovery Watson Speech to Text Watson Text to Speech IBM Cloud Functions Open source technology Node.js Apache OpenWhisk Node-RED Getting started Prerequisite Register for an IBM Cloud account. Set up an instance of Watson Assistant Log in to IBM Cloud and provision a Watson Assistant instance. Step 1. From the IBM Cloud catalog , provision an an instance of Watson Assistant . Step 2. Launch the Watson Assistant service. Step 3. Click Create assistant and follow these detailed instructions for how to create an assistant. Step 4. Name the Watson Assistant instance COVID Crisis Communication Step 5. Click Add Dialog skill to add this to your assistant. Follow the documentation if you have questions. Step 6. Click Import skill > Choose JSON file and import the skill-CDC-COVID-FAQ.json file. Step 7. Go back to the All Assistants page. From the action menu ( \u22ee ), open Settings . Step 8. On the Settings tab, click API Details on the left and make a note of the Assistant ID and Api Key for future use. Step 9. Go back to the All Assistants page and click on the Skills link. Step 10. On the Skill page, click on the action menu ( \u22ee ), open View API Details . Step 11. On the Skill Details page, make note of the Skill ID for future use. Step 12. Go back to your dialog skill and click on the Preview Link button on the side to get a link to test and verify your assistant. Step 13. Ask the Watson Assistant chatbot some questions about COVID-19. Connect your chatbot to data sources via a webhook Now that you\u2019ve created your Watson Assistant-enabled chatbot, you need to connect it to a data source. With Watson Assistant, you need to do this via a webhook. A webhook is a mechanism that allows you to call out to an external program based on something happening in your program. When used in a dialog skill, a webhook is triggered when the assistant processes a node that has a webhook enabled. The webhook collects data that you specify or that you collect from the user during the conversation and save in context variables. It sends the data as part of a HTTP POST request to the URL that you specify as part of your webhook definition. The URL that receives the webhook is the listener. It performs a predefined action using the information that you pass to it as specified in the webhook definition, and can optionally return a response. Follow these instructions for setting up webhook with the Watson Assistant chatbot you just provisioned. Integrate your COVID-19 chatbot with Slack Now that you have a functioning Watson Assistant, let's deploy it to Slack. Slack is a cloud-based messaging application that helps people collaborate with one another. After you configure a dialog skill and add it to an assistant, you can integrate the assistant with Slack. When integrated, depending on the events that you configure the assistant to support, your assistant can respond to questions that are asked in direct messages or in channels where the assistant is directly mentioned. Read these instructions to learn how to integrate your COVID-19 chatbot with Slack. Integrate your COVID-19 chatbot with Node-RED Want to create a voice-enabled chatbot? This tutorial teaches you how to create a voice enabled chatbot using Node-RED and the Watson Assistant, Watson Speech to Text, and Watson Text to Speech nodes. Embed your COVID-19 chatbot on a Node.js website Finally, you can embed your COVID-19 crisis communication chatbot on a Node.js website. Follow the COVID-Simple installation instructions Disclosures This tool is intended to provide information based on currently available CDC and other public information to help you make decisions about seeking appropriate medical care. This system is not intended for the diagnosis or treatment of disease or other conditions, including COVID-19, and you should not provide any personally identifying or private health information. This Watson Assistant bot is populated with data that is sourced from the following resources: Most static responses provide information found on the CDC's COVID FAQ Page: https://www.cdc.gov/coronavirus/2019-ncov/faq.html Dynamic infection and death counts are sourced from Johns Hopkins University via the following API: https://www.covid19api.com/ Dynamic news stories are sourced from Watson Discovery's news feed. Additional information on that service can be found here: https://www.ibm.com/watson/services/discovery-news/ License This solution starter is made available under the Apache 2 License .","title":"COVID Crisis Communications Starter Kit"},{"location":"Solution-Starter-Kit-Communication-2020/#covid-crisis-communications-starter-kit","text":"Warning This material is part of the World Wide IBM Call for Code 2020 Solution Starter Kit. Some links may not be working, however, the original contents are kept for reference only. This solution starter was created by technologists from IBM.","title":"COVID Crisis Communications Starter Kit"},{"location":"Solution-Starter-Kit-Communication-2020/#contents","text":"Overview Video The idea How it works Diagrams Documents Datasets Technology Getting started Resources 10. License","title":"Contents"},{"location":"Solution-Starter-Kit-Communication-2020/#overview","text":"","title":"Overview"},{"location":"Solution-Starter-Kit-Communication-2020/#whats-the-problem","text":"In times of crisis, communications systems are often overwhelmed with people trying to find basic information about testing, symptoms, community response, and other resources. When communication lines get clogged, people who need real help can't get through. Chatbots help respond to tens, even hundreds, of thousands of messages a day.","title":"What's the problem?"},{"location":"Solution-Starter-Kit-Communication-2020/#how-can-technology-help","text":"Whether via text, phone, websites, or communication apps, conversing with chatbots and other AI-enabled resources can play a critical role in helping communities quickly understand crucial information and free up customer service resources to focus on higher-level issues. IBM Watson Assistant service helps you build, train, and deploy conversational interactions into any application, device, or channel. Creating a chatbot using Watson Assistant can help address the issues that our users face while trying to gather accurate, relevant information. Whether you're trying to learn the latest news about Covid-19 or learn where there's testing in your area, a chatbot can play a major role in helping communities quickly understand crucial information and free up customer service resources to focus on higher-level issues.","title":"How can technology help ?"},{"location":"Solution-Starter-Kit-Communication-2020/#video","text":"","title":"Video"},{"location":"Solution-Starter-Kit-Communication-2020/#the-idea","text":"COVID-19 has citizens looking for answers about symptoms and testing sites as well as current status of schools, transportation, and other public services. Using Watson Assistant, this Call for Code Starter Kit has designed a virtual assistant pre-loaded to understand and respond to common questions about COVID-19, scan COVID-19 news articles using Watson Discovery and respond to COVID statistics inquires with data from trusted sources. With this Watson Assistant powered Crisis Communications Starter Kit you can integrate a chatbot into your Call for Code solution in an IBM Cloud hosted web server, using a Slack integration or via a Node-RED Dashboard. It can: - Respond by sharing consistent, accurate COVID-19 information - Help citizens quickly and easily access the latest information through their channel of choice \u2013 voice, text or collaborative tool - Free valuable resources by automating answers to common COVID-19 questions - Dynamically update information with the latest developments and recommendations The challenge for you is to build out from this framework to create a more complete solution.","title":"The idea"},{"location":"Solution-Starter-Kit-Communication-2020/#how-it-works","text":"","title":"How it works"},{"location":"Solution-Starter-Kit-Communication-2020/#diagrams","text":"","title":"Diagrams"},{"location":"Solution-Starter-Kit-Communication-2020/#website-integration-with-covid-19-crisis-communication-chatbot","text":"User visits a website with the COVID-19 chatbot and asks a question. Node.js web server calls the Watson Assistant service hosted in IBM Cloud. Watson Assistant uses natural language understanding and machine learning to extract entities and intents of the user question. Source COVID-19 FAQ information from trusted CDC data. Watson Assistant invokes an OpenWhisk open source powered IBM Cloud Function. IBM Cloud Function calls the Watson Discovery service running in IBM Cloud. Watson Discovery scans news articles and responds with relevant articles. Watson Assistant invokes an OpenWhisk open source powered IBM Cloud Function. IBM Cloud Function calls the COVID-19 API to get statistics. Watson Assistant replies to the user inquiry. Node.js web server displays the chat answer to the user.","title":"Website integration with COVID-19 crisis communication chatbot"},{"location":"Solution-Starter-Kit-Communication-2020/#slack-integration-with-covid-19-crisis-communication-chatbot","text":"User invokes a COVID-19 Slack integration chatbot app and asks a question. Slack app calls the Watson Assistant service hosted in IBM Cloud. Watson Assistant uses natural language understanding and machine learning to extract entities and intents of the user question. Source COVID-19 FAQ information from trusted CDC data Watson Assistant invokes an OpenWhisk open source powered IBM Cloud Function. IBM Cloud Function calls the Watson Discovery service running in IBM Cloud. Watson Discovery scans news articles and responds with relevant articles. Watson Assistant invokes an OpenWhisk open source powered IBM Cloud Function. IBM Cloud Function calls the COVID-19 API to get statistics. Watson Assistant replies to the Slack application. Slack app displays the chat answer to the user.","title":"Slack integration with COVID-19 crisis communication chatbot"},{"location":"Solution-Starter-Kit-Communication-2020/#voice-enabled-covid-19-crisis-communication-chatbot-using-node-red","text":"User visits a voice-enabled Node-RED website with the COVID-19 chatbot and asks a question. Node-RED records the speech wav file and calls the Watson Speech to Text service hosted in IBM Cloud. Watson Speech to Text uses machine learning to decode the user's speech. Watson Speech to Text replies with a transcript of the COVID-19 question and Node-RED calls Watson Assistant service hosted in IBM Cloud. Watson Assistant uses natural language understanding and machine learning to extract entities and intents of the user's question. Source COVID-19 FAQ information from trusted CDC data Watson Assistant invokes an OpenWhisk open source powered IBM Cloud Function. IBM Cloud Function calls the Watson Discovery service running in IBM Cloud. Watson Discovery scans news articles and responds with relevant articles. Watson Assistant invokes an OpenWhisk open source powered IBM Cloud Function. IBM Cloud Function calls the COVID-19 API to get statistics. Watson Assistant replies to the user inquiry and Node-RED sends the text transcript to Watson Text to Speech. Watson Text to Speech encodes the message in the user's language. Node-RED plays the chat answer wav file to the user. User listens to the chat answer.","title":"Voice enabled COVID-19 crisis communication chatbot using Node-RED"},{"location":"Solution-Starter-Kit-Communication-2020/#documents","text":"","title":"Documents"},{"location":"Solution-Starter-Kit-Communication-2020/#trusted-sources-for-covid-19-information","text":"CDC COVID-19 FAQ","title":"Trusted sources for COVID-19 information"},{"location":"Solution-Starter-Kit-Communication-2020/#tutorials-and-documentation","text":"How-to guides for chatbots Learning path: Getting started with Watson Assistant Chatbot with Watson Discovery Chat Bot Slack Deployment Node-RED Slack Integration Train a speech-to-text model Making Programmatic Calls from Watson Assistant IBM Cloud Voice Agent with Twilio Watson Assistant","title":"Tutorials and documentation:"},{"location":"Solution-Starter-Kit-Communication-2020/#datasets","text":"covid19api","title":"Datasets"},{"location":"Solution-Starter-Kit-Communication-2020/#technology","text":"","title":"Technology"},{"location":"Solution-Starter-Kit-Communication-2020/#ibm-technology","text":"IBM Watson Assistant Watson Discovery Watson Speech to Text Watson Text to Speech IBM Cloud Functions","title":"IBM technology"},{"location":"Solution-Starter-Kit-Communication-2020/#open-source-technology","text":"Node.js Apache OpenWhisk Node-RED","title":"Open source technology"},{"location":"Solution-Starter-Kit-Communication-2020/#getting-started","text":"","title":"Getting started"},{"location":"Solution-Starter-Kit-Communication-2020/#prerequisite","text":"Register for an IBM Cloud account.","title":"Prerequisite"},{"location":"Solution-Starter-Kit-Communication-2020/#set-up-an-instance-of-watson-assistant","text":"Log in to IBM Cloud and provision a Watson Assistant instance. Step 1. From the IBM Cloud catalog , provision an an instance of Watson Assistant . Step 2. Launch the Watson Assistant service. Step 3. Click Create assistant and follow these detailed instructions for how to create an assistant. Step 4. Name the Watson Assistant instance COVID Crisis Communication Step 5. Click Add Dialog skill to add this to your assistant. Follow the documentation if you have questions. Step 6. Click Import skill > Choose JSON file and import the skill-CDC-COVID-FAQ.json file. Step 7. Go back to the All Assistants page. From the action menu ( \u22ee ), open Settings . Step 8. On the Settings tab, click API Details on the left and make a note of the Assistant ID and Api Key for future use. Step 9. Go back to the All Assistants page and click on the Skills link. Step 10. On the Skill page, click on the action menu ( \u22ee ), open View API Details . Step 11. On the Skill Details page, make note of the Skill ID for future use. Step 12. Go back to your dialog skill and click on the Preview Link button on the side to get a link to test and verify your assistant. Step 13. Ask the Watson Assistant chatbot some questions about COVID-19.","title":"Set up an instance of Watson Assistant"},{"location":"Solution-Starter-Kit-Communication-2020/#connect-your-chatbot-to-data-sources-via-a-webhook","text":"Now that you\u2019ve created your Watson Assistant-enabled chatbot, you need to connect it to a data source. With Watson Assistant, you need to do this via a webhook. A webhook is a mechanism that allows you to call out to an external program based on something happening in your program. When used in a dialog skill, a webhook is triggered when the assistant processes a node that has a webhook enabled. The webhook collects data that you specify or that you collect from the user during the conversation and save in context variables. It sends the data as part of a HTTP POST request to the URL that you specify as part of your webhook definition. The URL that receives the webhook is the listener. It performs a predefined action using the information that you pass to it as specified in the webhook definition, and can optionally return a response. Follow these instructions for setting up webhook with the Watson Assistant chatbot you just provisioned.","title":"Connect your chatbot to data sources via a webhook"},{"location":"Solution-Starter-Kit-Communication-2020/#integrate-your-covid-19-chatbot-with-slack","text":"Now that you have a functioning Watson Assistant, let's deploy it to Slack. Slack is a cloud-based messaging application that helps people collaborate with one another. After you configure a dialog skill and add it to an assistant, you can integrate the assistant with Slack. When integrated, depending on the events that you configure the assistant to support, your assistant can respond to questions that are asked in direct messages or in channels where the assistant is directly mentioned. Read these instructions to learn how to integrate your COVID-19 chatbot with Slack.","title":"Integrate your COVID-19 chatbot with Slack"},{"location":"Solution-Starter-Kit-Communication-2020/#integrate-your-covid-19-chatbot-with-node-red","text":"Want to create a voice-enabled chatbot? This tutorial teaches you how to create a voice enabled chatbot using Node-RED and the Watson Assistant, Watson Speech to Text, and Watson Text to Speech nodes.","title":"Integrate your COVID-19 chatbot with Node-RED"},{"location":"Solution-Starter-Kit-Communication-2020/#embed-your-covid-19-chatbot-on-a-nodejs-website","text":"Finally, you can embed your COVID-19 crisis communication chatbot on a Node.js website. Follow the COVID-Simple installation instructions","title":"Embed your COVID-19 chatbot on a Node.js website"},{"location":"Solution-Starter-Kit-Communication-2020/#disclosures","text":"This tool is intended to provide information based on currently available CDC and other public information to help you make decisions about seeking appropriate medical care. This system is not intended for the diagnosis or treatment of disease or other conditions, including COVID-19, and you should not provide any personally identifying or private health information. This Watson Assistant bot is populated with data that is sourced from the following resources: Most static responses provide information found on the CDC's COVID FAQ Page: https://www.cdc.gov/coronavirus/2019-ncov/faq.html Dynamic infection and death counts are sourced from Johns Hopkins University via the following API: https://www.covid19api.com/ Dynamic news stories are sourced from Watson Discovery's news feed. Additional information on that service can be found here: https://www.ibm.com/watson/services/discovery-news/","title":"Disclosures"},{"location":"Solution-Starter-Kit-Communication-2020/#license","text":"This solution starter is made available under the Apache 2 License .","title":"License"},{"location":"Solution-Starter-Kit-Communication-2020/assistant/","text":"STEP 1: Create a crisis communication chatbot and connect it to news and COVID-19 data sources Warning This material is part of the World Wide IBM Call for Code 2020 Solution Starter Kit. Some links may not be working, however, the original contents are kept for reference only. In times of crisis, chatbots can help people quickly find answers they need to critical questions. In the case of a pandemic like COVID-19, people might be trying to find basic information about testing, symptoms, community response, and other resources. This tutorial shows you how to create a crisis communication chatbot using IBM\u00ae Watson\u2122 Assistant and how to add webhooks to Watson Assistant to query for dynamic data using Watson Discovery and COVID-19 APIs. Learning objectives In this tutorial, you will: Provision an instance of Watson Assistant Add a dialog skill to your Watson Assistant instance Connect your Watson Assistant with Watson Discovery Create Cloud Functions Integrate data sources via a Watson Assistant webhook Prerequisite Register for an IBM Cloud account, if you do not have an account yet. Otherwise, please proceed to IBM Cloud login Download the code from this GitHub repository Estimated time This tutorial takes about 40 minutes to complete. Create your chatbot by setting up a Watson Assistant instance We show you how to create a chatbot using Watson Assistant, a tool that enables you to build conversational interfaces into any application, device, or channel. Step 1. From the IBM Cloud catalog , provision an an instance of Watson Assistant . Step 2. Launch the Watson Assistant service. Step 3. Click Create assistant and follow these detailed instructions for how to create an assistant. Step 4. Name the Watson Assistant instance COVID Crisis Communication Step 5. Click Add Dialog skill to add this to your assistant. Follow the documentation if you have questions. Step 6. Click Import skill > Choose JSON file and import the skill-CDC-COVID-FAQ.json file. Step 7. Go back to the All Assistants page. From the action menu ( \u22ee ), open Settings . Step 8. On the Settings tab, click API Details on the left and make a note of the Assistant ID and Api Key for future use. Step 9. Go back to the All Assistants page and click on the Skills link. Step 10. On the Skill page, click on the action menu ( \u22ee ), open View API Details . Step 11. On the Skill Details page, make note of the Skill ID for future use. Step 12. Go back to your dialog skill and click on the Preview Link button on the side to get a link to test and verify your assistant. Step 13. Ask the Watson Assistant chatbot some questions about COVID-19. Integrate your chatbot with data sources Now that you\u2019ve created your Watson Assistant-enabled chatbot, you need to connect it to a data source. With Watson Assistant, you need to do this via a webhook. Our crisis communication chatbot uses two different sources: COVID-19 API Proceed to Step 2: Adding Webhooks to Watson Assistant Next steps Now that you know how to create a COVID-19 chatbot and connect it to Watson Discovery and the COVID-19 API, there are a few different integration paths you can take. The following tutorials show you how to integrate this chatbot with Slack, with a simple web application, or with a Node-RED dashboard. Integrate your COVID-19 chatbot with Node-RED to enable voice commands Congratulations on building your first Chatbot with Watson Assistant! While this tutorial is based on managing crisis communication during COVID19 with AI, there are many other use cases that we can utilise technology! If you are interested, check out other AI services too. Cannot wait to see what your team will build!","title":"Step 1: Create ChatBot using Watson Assistant"},{"location":"Solution-Starter-Kit-Communication-2020/assistant/#step-1-create-a-crisis-communication-chatbot-and-connect-it-to-news-and-covid-19-data-sources","text":"Warning This material is part of the World Wide IBM Call for Code 2020 Solution Starter Kit. Some links may not be working, however, the original contents are kept for reference only. In times of crisis, chatbots can help people quickly find answers they need to critical questions. In the case of a pandemic like COVID-19, people might be trying to find basic information about testing, symptoms, community response, and other resources. This tutorial shows you how to create a crisis communication chatbot using IBM\u00ae Watson\u2122 Assistant and how to add webhooks to Watson Assistant to query for dynamic data using Watson Discovery and COVID-19 APIs.","title":"STEP 1: Create a crisis communication chatbot and connect it to news and COVID-19 data sources"},{"location":"Solution-Starter-Kit-Communication-2020/assistant/#learning-objectives","text":"In this tutorial, you will: Provision an instance of Watson Assistant Add a dialog skill to your Watson Assistant instance Connect your Watson Assistant with Watson Discovery Create Cloud Functions Integrate data sources via a Watson Assistant webhook","title":"Learning objectives"},{"location":"Solution-Starter-Kit-Communication-2020/assistant/#prerequisite","text":"Register for an IBM Cloud account, if you do not have an account yet. Otherwise, please proceed to IBM Cloud login Download the code from this GitHub repository","title":"Prerequisite"},{"location":"Solution-Starter-Kit-Communication-2020/assistant/#estimated-time","text":"This tutorial takes about 40 minutes to complete.","title":"Estimated time"},{"location":"Solution-Starter-Kit-Communication-2020/assistant/#create-your-chatbot-by-setting-up-a-watson-assistant-instance","text":"We show you how to create a chatbot using Watson Assistant, a tool that enables you to build conversational interfaces into any application, device, or channel. Step 1. From the IBM Cloud catalog , provision an an instance of Watson Assistant . Step 2. Launch the Watson Assistant service. Step 3. Click Create assistant and follow these detailed instructions for how to create an assistant. Step 4. Name the Watson Assistant instance COVID Crisis Communication Step 5. Click Add Dialog skill to add this to your assistant. Follow the documentation if you have questions. Step 6. Click Import skill > Choose JSON file and import the skill-CDC-COVID-FAQ.json file. Step 7. Go back to the All Assistants page. From the action menu ( \u22ee ), open Settings . Step 8. On the Settings tab, click API Details on the left and make a note of the Assistant ID and Api Key for future use. Step 9. Go back to the All Assistants page and click on the Skills link. Step 10. On the Skill page, click on the action menu ( \u22ee ), open View API Details . Step 11. On the Skill Details page, make note of the Skill ID for future use. Step 12. Go back to your dialog skill and click on the Preview Link button on the side to get a link to test and verify your assistant. Step 13. Ask the Watson Assistant chatbot some questions about COVID-19.","title":"Create your chatbot by setting up a Watson Assistant instance"},{"location":"Solution-Starter-Kit-Communication-2020/assistant/#integrate-your-chatbot-with-data-sources","text":"Now that you\u2019ve created your Watson Assistant-enabled chatbot, you need to connect it to a data source. With Watson Assistant, you need to do this via a webhook. Our crisis communication chatbot uses two different sources: COVID-19 API Proceed to Step 2: Adding Webhooks to Watson Assistant","title":"Integrate your chatbot with data sources"},{"location":"Solution-Starter-Kit-Communication-2020/assistant/#next-steps","text":"Now that you know how to create a COVID-19 chatbot and connect it to Watson Discovery and the COVID-19 API, there are a few different integration paths you can take. The following tutorials show you how to integrate this chatbot with Slack, with a simple web application, or with a Node-RED dashboard. Integrate your COVID-19 chatbot with Node-RED to enable voice commands","title":"Next steps"},{"location":"Solution-Starter-Kit-Communication-2020/assistant/#congratulations-on-building-your-first-chatbot-with-watson-assistant","text":"While this tutorial is based on managing crisis communication during COVID19 with AI, there are many other use cases that we can utilise technology! If you are interested, check out other AI services too. Cannot wait to see what your team will build!","title":"Congratulations on building your first Chatbot with Watson Assistant!"},{"location":"Solution-Starter-Kit-Communication-2020/node-red/","text":"STEP 3: Create a voice-enabled COVID-19 chatbot using Node-RED Warning This material is part of the World Wide IBM Call for Code 2020 Solution Starter Kit. Some links may not be working, however, the original contents are kept for reference only. Learn how to create a voice-enabled chatbot using Node-RED and the IBM Watson Assistant, Watson Speech to Text, and Watson Text to Speech services. Authors John Walicki - IBM Isaias Rafael Angeles - IBM Learning objectives In this tutorial, you will: Learn about Node-RED and see how to install it locally and on IBM Cloud Explore the node-red-node-watson Node-RED nodes Import and deploy the Watson Assistant chatbot example Build a Call for Code COVID Crisis Communications voice-enabled chatbot solution Prerequisites Register for an IBM Cloud account, if you do not have an account yet. Otherwise, please proceed to IBM Cloud login Install Node-RED locally or Create a Node-RED Starter application in IBM Cloud After Node-RED is installed, add the dependencies: npm install node-red-node-ui-microphone node-red-dashboard node-red-node-watson node-red-contrib-play-audio Create a Watson Assistant COVID-19 crisis communications chatbot Estimated time Completing this tutorial should take about 30 minutes. Architecture diagram Voice enabled COVID Crisis Communications Chatbot using Node-RED The following diagram shows the workflow for a Node-RED chatbot that answers questions about COVID-19. A user visits a voice enabled Node-RED website with the COVID-19 chatbot and asks a question. Node-RED records the speech wav audio format and calls the Watson Speech to Text service hosted in IBM Cloud. Watson Speech to Text uses machine learning to decode the user's speech. Watson Speech to Text replies with a transcript of the COVID-19 question and Node-RED calls Watson Assistant service hosted in IBM Cloud. Watson Assistant uses natural language understanding and machine learning to extract entities and intents of the user question. Source COVID-19 FAQ information from trusted CDC data. Watson Assistant invokes an OpenWhisk open source-powered IBM Cloud Function. IBM Cloud Function calls Watson Discovery service running in IBM Cloud. Watson Discovery scans news articles and responds with relevant articles. Watson Assistant invokes an OpenWhisk open source-powered IBM Cloud Function. IBM Cloud Function calls COVID-19 API to get statistics. Watson Assistant replies to the user inquiry and Node-RED sends the text transcript to Watson Text to Speech. Watson Text to Speech encodes the message in the user's language. Node-RED plays the chat answer .wav file to the user. The user listens to the chat answer. Steps Learn about Node-RED Node-RED is an open source programming tool for wiring together hardware devices, APIs, and online services in new and interesting ways. It provides a browser-based editor that makes it easy to wire together flows using the wide range of nodes in the palette that can be deployed to its runtime in a single-click. Install Node-RED Dependencies nodes After Node-RED is installed, add the dependencies for this tutorial: node-red-node-ui-microphone node-red-dashboard node-red-node-watson node-red-contrib-play-audio Local installation instructions npm install node-red-node-ui-microphone node-red-dashboard node-red-node-watson node-red-contrib-play-audio IBM Cloud installation instructions Instead of adding the additional packages via Manage Palette , use the IBM Cloud Toolchain and the git repository in IBM Cloud to add the following packages to the package.json. Commit the change and the CI/CD toolchain will restage the CF application. \"node-red-node-ui-microphone\":\"0.x\", \"node-red-dashboard\":\"2.x\", \"node-red-contrib-play-audio\":\"2.x\", Explore node-red-node-watson Node-RED nodes The node-red-node-watson GitHub repository includes a collection of Node-RED nodes for IBM Watson services. This package adds the following nodes to your Node-RED palette: Assistant: Add conversational capabilities into applications Discovery: List environments created for Watson Discovery Language Identification: Detect the language used in text Language Translator: Translate text from one language to another Natural Language Classifier: Use machine learning algorithms to return the top matching predefined classes for short text inputs Natural Language Understanding: Analyze text to extract meta-data from content such as concepts, entities, and keywords Personality Insights: Use linguistic analytics to infer cognitive and social characteristics from text Speech To Text: Convert audio containing speech to text Text To Speech: Convert text to audio speech Tone Analyzer: Discover, understand, and revise the language tones in text Visual Recognition: Analyze visual appearance of images to understand their contents Import and deploy the COVID-19 crisis communication chatbot example Now that you have installed the Node-RED dependencies, Watson nodes are available to integrate Watson AI services. Let's build a voice enabled chatbot example that uses Watson Assistant, Watson Speech to Text and Watson Text to Speech. Import this flow and Deploy the flow. Create Watson Services on IBM Cloud Before the flow will execute successfully, you must configure the Watson Assistant and Watson Speech nodes with new service instances and API Keys. Create a Watson Assistant instance If you have created a Watson Assistant service instance . Kindly follow a), b), and c). a) Copy the Watson Assistant instance API key (a) and URL (b) b) Go to View API Details c) Copy the Skill ID If you haven't created Watson Assistant service instance , follow these instructions to provision a Watson Assistant chatbot for COVID-19 Create a Watson Speech to Text service instance Create a Watson Speech to Text Service instance instance from the IBM Cloud Catalog. Click Create . The Node-RED Watson Speech to Text node will need the apikey credentials for this new instance. Once the Watson Speech to Text service is created, click Service credentials (1). Click the View credentials (2) twistie. Copy the apikey (3) for use in the next section Create a Watson Text to Speech service instance Create a Watson Text to Speech Service instance from the IBM Cloud Catalog. Click Create . The Node-RED Watson Text to Speech node will need the apikey credentials for this new instance After you create the Watson Text to Speech service, click Service credentials (1). Click the View credentials (2) twistie. Copy the apikey (3) for use in the next section. Enable Watson Speech Nodes with API keys Double click the speech to text node and paste the API key from the Watson Speech to Text service instance. Click Done . Double-click the text to speech node and paste the API key from the Watson Text to Speech service instance. Click Done . Enable Watson Assistant node with the COVID-19 Workspace ID and API key Double-click the assistant node and paste the Skill ID into the Workspace ID field, Assistant Service Endpoint URL, and the API key from the Watson Assistant service instance. Click Done . Parse intents and invoke API calls Watson Assistant returns the intents related to your questions. The Switch node routes two intents to an http request node to query an external data source for current COVID statistics. A Function node adds up the summary statistics and builds a sentence to be spoken. Deploy the Node-RED flows Click on the Red Deploy button. To view your Dashboard, go to Menu, View and select Dashboard then Click on the highlighted icon (a) to launch the dashboard Talk to your COVID-19 crisis chatbot To talk to your chatbot, click on the microphone input button and ask a question about COVID-19. When someone asks a question, here's the Node-RED flow that happens in the background: Build a Node-RED COVID statistics dashboard Bonus : This flow includes a Node-RED dashboard with several gauges to display COVID-19 statistics. Every hour, the Node-RED flow will call the covid19api summary API and collect dynamic COVID-19 infection statistics. The country data is aggregated and then the gauges are updated. Learn more about the dashboard code The following Node-RED flow is included in this tutorial: The http request node uses the public Covid-19 API to retrieve the daily information for all countries with infections. Here's the sample JSON object from the summary API: { \"Country\" : \"US\" , \"Slug\" : \"us\" , \"NewConfirmed\" : 18058 , \"TotalConfirmed\" : 83836 , \"NewDeaths\" : 267 , \"TotalDeaths\" : 1209 , \"NewRecovered\" : 320 , \"TotalRecovered\" : 681 }, Each function node then aggregates the Total Confirmed Cases, Total Fatalities, Total Recovered, and Total Countries and sends the results to the corresponding gauge node. This is the code in the function node: let totalConfirmedCase = 0 ; msg . payload . Countries . map ( function ( line ){ totalConfirmedCase += line . TotalConfirmed ; }); msg . payload = totalConfirmedCase ; return msg ; You can expand the above dashboard to include daily new infections from covid19api data, charts, tables, and the chatbot UI. Congratulations on building a Call for Code Crisis Communication solution! Awesome! You have now completed the tutorial on building a chatbot with Node-RED on IBM Cloud! Feel free to modify and enhance your solutions with other services on IBM Cloud. We are looking forward to your exciting solutions!","title":"Step 3: Create Voice Enabled ChatBot using Node-RED"},{"location":"Solution-Starter-Kit-Communication-2020/node-red/#step-3-create-a-voice-enabled-covid-19-chatbot-using-node-red","text":"Warning This material is part of the World Wide IBM Call for Code 2020 Solution Starter Kit. Some links may not be working, however, the original contents are kept for reference only. Learn how to create a voice-enabled chatbot using Node-RED and the IBM Watson Assistant, Watson Speech to Text, and Watson Text to Speech services.","title":"STEP 3: Create a voice-enabled COVID-19 chatbot using Node-RED"},{"location":"Solution-Starter-Kit-Communication-2020/node-red/#authors","text":"John Walicki - IBM Isaias Rafael Angeles - IBM","title":"Authors"},{"location":"Solution-Starter-Kit-Communication-2020/node-red/#learning-objectives","text":"In this tutorial, you will: Learn about Node-RED and see how to install it locally and on IBM Cloud Explore the node-red-node-watson Node-RED nodes Import and deploy the Watson Assistant chatbot example Build a Call for Code COVID Crisis Communications voice-enabled chatbot solution","title":"Learning objectives"},{"location":"Solution-Starter-Kit-Communication-2020/node-red/#prerequisites","text":"Register for an IBM Cloud account, if you do not have an account yet. Otherwise, please proceed to IBM Cloud login Install Node-RED locally or Create a Node-RED Starter application in IBM Cloud After Node-RED is installed, add the dependencies: npm install node-red-node-ui-microphone node-red-dashboard node-red-node-watson node-red-contrib-play-audio Create a Watson Assistant COVID-19 crisis communications chatbot","title":"Prerequisites"},{"location":"Solution-Starter-Kit-Communication-2020/node-red/#estimated-time","text":"Completing this tutorial should take about 30 minutes.","title":"Estimated time"},{"location":"Solution-Starter-Kit-Communication-2020/node-red/#architecture-diagram","text":"","title":"Architecture diagram"},{"location":"Solution-Starter-Kit-Communication-2020/node-red/#voice-enabled-covid-crisis-communications-chatbot-using-node-red","text":"The following diagram shows the workflow for a Node-RED chatbot that answers questions about COVID-19. A user visits a voice enabled Node-RED website with the COVID-19 chatbot and asks a question. Node-RED records the speech wav audio format and calls the Watson Speech to Text service hosted in IBM Cloud. Watson Speech to Text uses machine learning to decode the user's speech. Watson Speech to Text replies with a transcript of the COVID-19 question and Node-RED calls Watson Assistant service hosted in IBM Cloud. Watson Assistant uses natural language understanding and machine learning to extract entities and intents of the user question. Source COVID-19 FAQ information from trusted CDC data. Watson Assistant invokes an OpenWhisk open source-powered IBM Cloud Function. IBM Cloud Function calls Watson Discovery service running in IBM Cloud. Watson Discovery scans news articles and responds with relevant articles. Watson Assistant invokes an OpenWhisk open source-powered IBM Cloud Function. IBM Cloud Function calls COVID-19 API to get statistics. Watson Assistant replies to the user inquiry and Node-RED sends the text transcript to Watson Text to Speech. Watson Text to Speech encodes the message in the user's language. Node-RED plays the chat answer .wav file to the user. The user listens to the chat answer.","title":"Voice enabled COVID Crisis Communications Chatbot using Node-RED"},{"location":"Solution-Starter-Kit-Communication-2020/node-red/#steps","text":"","title":"Steps"},{"location":"Solution-Starter-Kit-Communication-2020/node-red/#learn-about-node-red","text":"Node-RED is an open source programming tool for wiring together hardware devices, APIs, and online services in new and interesting ways. It provides a browser-based editor that makes it easy to wire together flows using the wide range of nodes in the palette that can be deployed to its runtime in a single-click.","title":"Learn about Node-RED"},{"location":"Solution-Starter-Kit-Communication-2020/node-red/#install-node-red-dependencies-nodes","text":"After Node-RED is installed, add the dependencies for this tutorial: node-red-node-ui-microphone node-red-dashboard node-red-node-watson node-red-contrib-play-audio","title":"Install Node-RED Dependencies nodes"},{"location":"Solution-Starter-Kit-Communication-2020/node-red/#local-installation-instructions","text":"npm install node-red-node-ui-microphone node-red-dashboard node-red-node-watson node-red-contrib-play-audio","title":"Local installation instructions"},{"location":"Solution-Starter-Kit-Communication-2020/node-red/#ibm-cloud-installation-instructions","text":"Instead of adding the additional packages via Manage Palette , use the IBM Cloud Toolchain and the git repository in IBM Cloud to add the following packages to the package.json. Commit the change and the CI/CD toolchain will restage the CF application. \"node-red-node-ui-microphone\":\"0.x\", \"node-red-dashboard\":\"2.x\", \"node-red-contrib-play-audio\":\"2.x\",","title":"IBM Cloud installation instructions"},{"location":"Solution-Starter-Kit-Communication-2020/node-red/#explore-node-red-node-watson-node-red-nodes","text":"The node-red-node-watson GitHub repository includes a collection of Node-RED nodes for IBM Watson services. This package adds the following nodes to your Node-RED palette: Assistant: Add conversational capabilities into applications Discovery: List environments created for Watson Discovery Language Identification: Detect the language used in text Language Translator: Translate text from one language to another Natural Language Classifier: Use machine learning algorithms to return the top matching predefined classes for short text inputs Natural Language Understanding: Analyze text to extract meta-data from content such as concepts, entities, and keywords Personality Insights: Use linguistic analytics to infer cognitive and social characteristics from text Speech To Text: Convert audio containing speech to text Text To Speech: Convert text to audio speech Tone Analyzer: Discover, understand, and revise the language tones in text Visual Recognition: Analyze visual appearance of images to understand their contents","title":"Explore node-red-node-watson Node-RED nodes"},{"location":"Solution-Starter-Kit-Communication-2020/node-red/#import-and-deploy-the-covid-19-crisis-communication-chatbot-example","text":"Now that you have installed the Node-RED dependencies, Watson nodes are available to integrate Watson AI services. Let's build a voice enabled chatbot example that uses Watson Assistant, Watson Speech to Text and Watson Text to Speech. Import this flow and Deploy the flow.","title":"Import and deploy the COVID-19 crisis communication chatbot example"},{"location":"Solution-Starter-Kit-Communication-2020/node-red/#create-watson-services-on-ibm-cloud","text":"Before the flow will execute successfully, you must configure the Watson Assistant and Watson Speech nodes with new service instances and API Keys.","title":"Create Watson Services on IBM Cloud"},{"location":"Solution-Starter-Kit-Communication-2020/node-red/#create-a-watson-assistant-instance","text":"If you have created a Watson Assistant service instance . Kindly follow a), b), and c). a) Copy the Watson Assistant instance API key (a) and URL (b) b) Go to View API Details c) Copy the Skill ID If you haven't created Watson Assistant service instance , follow these instructions to provision a Watson Assistant chatbot for COVID-19","title":"Create a Watson Assistant instance"},{"location":"Solution-Starter-Kit-Communication-2020/node-red/#create-a-watson-speech-to-text-service-instance","text":"Create a Watson Speech to Text Service instance instance from the IBM Cloud Catalog. Click Create . The Node-RED Watson Speech to Text node will need the apikey credentials for this new instance. Once the Watson Speech to Text service is created, click Service credentials (1). Click the View credentials (2) twistie. Copy the apikey (3) for use in the next section","title":"Create a Watson Speech to Text service instance"},{"location":"Solution-Starter-Kit-Communication-2020/node-red/#create-a-watson-text-to-speech-service-instance","text":"Create a Watson Text to Speech Service instance from the IBM Cloud Catalog. Click Create . The Node-RED Watson Text to Speech node will need the apikey credentials for this new instance After you create the Watson Text to Speech service, click Service credentials (1). Click the View credentials (2) twistie. Copy the apikey (3) for use in the next section.","title":"Create a Watson Text to Speech service instance"},{"location":"Solution-Starter-Kit-Communication-2020/node-red/#enable-watson-speech-nodes-with-api-keys","text":"Double click the speech to text node and paste the API key from the Watson Speech to Text service instance. Click Done . Double-click the text to speech node and paste the API key from the Watson Text to Speech service instance. Click Done .","title":"Enable Watson Speech Nodes with API keys"},{"location":"Solution-Starter-Kit-Communication-2020/node-red/#enable-watson-assistant-node-with-the-covid-19-workspace-id-and-api-key","text":"Double-click the assistant node and paste the Skill ID into the Workspace ID field, Assistant Service Endpoint URL, and the API key from the Watson Assistant service instance. Click Done .","title":"Enable Watson Assistant node with the COVID-19 Workspace ID and API key"},{"location":"Solution-Starter-Kit-Communication-2020/node-red/#parse-intents-and-invoke-api-calls","text":"Watson Assistant returns the intents related to your questions. The Switch node routes two intents to an http request node to query an external data source for current COVID statistics. A Function node adds up the summary statistics and builds a sentence to be spoken.","title":"Parse intents and invoke API calls"},{"location":"Solution-Starter-Kit-Communication-2020/node-red/#deploy-the-node-red-flows","text":"Click on the Red Deploy button. To view your Dashboard, go to Menu, View and select Dashboard then Click on the highlighted icon (a) to launch the dashboard","title":"Deploy the Node-RED flows"},{"location":"Solution-Starter-Kit-Communication-2020/node-red/#talk-to-your-covid-19-crisis-chatbot","text":"To talk to your chatbot, click on the microphone input button and ask a question about COVID-19. When someone asks a question, here's the Node-RED flow that happens in the background:","title":"Talk to your COVID-19 crisis chatbot"},{"location":"Solution-Starter-Kit-Communication-2020/node-red/#build-a-node-red-covid-statistics-dashboard","text":"Bonus : This flow includes a Node-RED dashboard with several gauges to display COVID-19 statistics. Every hour, the Node-RED flow will call the covid19api summary API and collect dynamic COVID-19 infection statistics. The country data is aggregated and then the gauges are updated.","title":"Build a Node-RED COVID statistics dashboard"},{"location":"Solution-Starter-Kit-Communication-2020/node-red/#learn-more-about-the-dashboard-code","text":"The following Node-RED flow is included in this tutorial: The http request node uses the public Covid-19 API to retrieve the daily information for all countries with infections. Here's the sample JSON object from the summary API: { \"Country\" : \"US\" , \"Slug\" : \"us\" , \"NewConfirmed\" : 18058 , \"TotalConfirmed\" : 83836 , \"NewDeaths\" : 267 , \"TotalDeaths\" : 1209 , \"NewRecovered\" : 320 , \"TotalRecovered\" : 681 }, Each function node then aggregates the Total Confirmed Cases, Total Fatalities, Total Recovered, and Total Countries and sends the results to the corresponding gauge node. This is the code in the function node: let totalConfirmedCase = 0 ; msg . payload . Countries . map ( function ( line ){ totalConfirmedCase += line . TotalConfirmed ; }); msg . payload = totalConfirmedCase ; return msg ; You can expand the above dashboard to include daily new infections from covid19api data, charts, tables, and the chatbot UI.","title":"Learn more about the dashboard code"},{"location":"Solution-Starter-Kit-Communication-2020/node-red/#congratulations-on-building-a-call-for-code-crisis-communication-solution","text":"Awesome! You have now completed the tutorial on building a chatbot with Node-RED on IBM Cloud! Feel free to modify and enhance your solutions with other services on IBM Cloud. We are looking forward to your exciting solutions!","title":"Congratulations on building a Call for Code Crisis Communication solution!"},{"location":"Solution-Starter-Kit-Communication-2020/webhook/","text":"STEP 2: Adding Webhooks to Watson Assistant Warning This material is part of the World Wide IBM Call for Code 2020 Solution Starter Kit. Some links may not be working, however, the original contents are kept for reference only. Defining webhooks A webhook is a mechanism that allows you to call out to an external program based on something happening in your program. When used in a dialog skill, a webhook is triggered when the assistant processes a node that has a webhook enabled. The webhook collects data that you specify or that you collect from the user during the conversation and save in context variables. It sends the data as part of a HTTP POST request to the URL that you specify as part of your webhook definition. The URL that receives the webhook is the listener. It performs a predefined action using the information that you pass to it as specified in the webhook definition, and can optionally return a response. You can query for dynamic data using webhooks in IBM Watson Assistant. Our crisis communication chatbot uses two different sources: COVID-19 API Prerequisites Create an IBM Cloud Account . Create a Watson Assistant COVID-19 crisis communications chatbot. Follow these instructions Creating Cloud Functions In the IBM Cloud catalog, go to IBM Cloud Functions . Click Start Creating . Select Create Action . Name your action. For the Runtime dropdown, select Node.js 16 or latest. Replace the code with action/covid-webhook.js Our code has two main parts. We decide whether to call the COVID-19 API or Watson Discovery based on a parameter sent on the function call. If a query param of type=api is set, you call the COVID-19 API on the summary endpoint . It returns the data in the following format: { Countries: [ { Country: \"\", Slug: \"\", NewConfirmed: 0, TotalConfirmed: 0, NewDeaths: 0, TotalDeaths: 0, NewRecovered: 0, TotalRecovered: 0 }, { Country: \" Azerbaijan\", Slug: \"-azerbaijan\", NewConfirmed: 0, TotalConfirmed: 0, NewDeaths: 0, TotalDeaths: 0, NewRecovered: 0, TotalRecovered: 0 }, ... ] } If there is specific location (Country/Country Code/US State) selected, you look for that location either using The Weather Company API or in the summary response and return the status for that location. For example, the response for type=api and location=United States of America is shown below. { \"result\": \"Total Cases: 65778\\nTotal Deaths: 942\\nTotal Recovered: 361\\n\\nSource: Johns Hopkins CSSE\" } Enable the action as a web action. To do so, select the Endpoints tab on the left. Click the checkbox beside \"Enable as Web Action.\" Make note of the HTTP URL. You will use this as the webhook for your assistant. You will have to add .json in the end of this url to make it work as a webhook. Integrate data sources via a Watson Assistant webhook For detailed instructions on how to do this, check out our documentation: Making Programmatic Calls from Watson Assistant . Bring up the COVID-19 assistant you created earlier. Find it in your IBM Cloud account under services > IBM Watson Assistant. Open the dialog by clicking the CDC COVID FAQ Dialog. Click on Options on the left. Under Options > Webhooks, in the URL text box, paste the URL from the Cloud Funciton step. Make sure to add a .json at the end of the URL. Select Dialog on the left navigation. Open up any dialog node you want to add a webhook call for. After selecting the node, click Customize . Enable Webhooks by moving the toggle button to On in the Webhooks section. Click Save . Add any parameter your webhook needs. These will be sent as query parameters. Test that your webhook integration is working by going to the Try It tab and initiating a dialog that calls the webhook. You can easily use webhooks to give your Watson Assistant access to many external APIs and databases.","title":"Step 2: Adding Webhooks to Watson Assistant using IBM Functions"},{"location":"Solution-Starter-Kit-Communication-2020/webhook/#step-2-adding-webhooks-to-watson-assistant","text":"Warning This material is part of the World Wide IBM Call for Code 2020 Solution Starter Kit. Some links may not be working, however, the original contents are kept for reference only.","title":"STEP 2: Adding Webhooks to Watson Assistant"},{"location":"Solution-Starter-Kit-Communication-2020/webhook/#defining-webhooks","text":"A webhook is a mechanism that allows you to call out to an external program based on something happening in your program. When used in a dialog skill, a webhook is triggered when the assistant processes a node that has a webhook enabled. The webhook collects data that you specify or that you collect from the user during the conversation and save in context variables. It sends the data as part of a HTTP POST request to the URL that you specify as part of your webhook definition. The URL that receives the webhook is the listener. It performs a predefined action using the information that you pass to it as specified in the webhook definition, and can optionally return a response. You can query for dynamic data using webhooks in IBM Watson Assistant. Our crisis communication chatbot uses two different sources: COVID-19 API","title":"Defining webhooks"},{"location":"Solution-Starter-Kit-Communication-2020/webhook/#prerequisites","text":"Create an IBM Cloud Account . Create a Watson Assistant COVID-19 crisis communications chatbot. Follow these instructions","title":"Prerequisites"},{"location":"Solution-Starter-Kit-Communication-2020/webhook/#creating-cloud-functions","text":"In the IBM Cloud catalog, go to IBM Cloud Functions . Click Start Creating . Select Create Action . Name your action. For the Runtime dropdown, select Node.js 16 or latest. Replace the code with action/covid-webhook.js Our code has two main parts. We decide whether to call the COVID-19 API or Watson Discovery based on a parameter sent on the function call. If a query param of type=api is set, you call the COVID-19 API on the summary endpoint . It returns the data in the following format: { Countries: [ { Country: \"\", Slug: \"\", NewConfirmed: 0, TotalConfirmed: 0, NewDeaths: 0, TotalDeaths: 0, NewRecovered: 0, TotalRecovered: 0 }, { Country: \" Azerbaijan\", Slug: \"-azerbaijan\", NewConfirmed: 0, TotalConfirmed: 0, NewDeaths: 0, TotalDeaths: 0, NewRecovered: 0, TotalRecovered: 0 }, ... ] } If there is specific location (Country/Country Code/US State) selected, you look for that location either using The Weather Company API or in the summary response and return the status for that location. For example, the response for type=api and location=United States of America is shown below. { \"result\": \"Total Cases: 65778\\nTotal Deaths: 942\\nTotal Recovered: 361\\n\\nSource: Johns Hopkins CSSE\" } Enable the action as a web action. To do so, select the Endpoints tab on the left. Click the checkbox beside \"Enable as Web Action.\" Make note of the HTTP URL. You will use this as the webhook for your assistant. You will have to add .json in the end of this url to make it work as a webhook.","title":"Creating Cloud Functions"},{"location":"Solution-Starter-Kit-Communication-2020/webhook/#integrate-data-sources-via-a-watson-assistant-webhook","text":"For detailed instructions on how to do this, check out our documentation: Making Programmatic Calls from Watson Assistant . Bring up the COVID-19 assistant you created earlier. Find it in your IBM Cloud account under services > IBM Watson Assistant. Open the dialog by clicking the CDC COVID FAQ Dialog. Click on Options on the left. Under Options > Webhooks, in the URL text box, paste the URL from the Cloud Funciton step. Make sure to add a .json at the end of the URL. Select Dialog on the left navigation. Open up any dialog node you want to add a webhook call for. After selecting the node, click Customize . Enable Webhooks by moving the toggle button to On in the Webhooks section. Click Save . Add any parameter your webhook needs. These will be sent as query parameters. Test that your webhook integration is working by going to the Try It tab and initiating a dialog that calls the webhook. You can easily use webhooks to give your Watson Assistant access to many external APIs and databases.","title":"Integrate data sources via a Watson Assistant webhook"}]}